<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <!-- Обеспечивает корректное отображение на мобильных устройствах -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Анимированный фон с загрузкой</title>
  <!-- Подключаем шрифт Didact Gothic для красивого отображения русского текста -->
  <link href="https://fonts.googleapis.com/css2?family=Didact+Gothic&display=swap" rel="stylesheet">
  <!-- Подключение Font Awesome для анимации сердечка -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
  <!-- Подключение основного файла стилей -->
  <link rel="stylesheet" href="style.css">
</head>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const userId = localStorage.getItem("telegramUserId");
    if (!userId) {
        const telegramWebApp = window.Telegram.WebApp;
        if (telegramWebApp && telegramWebApp.initDataUnsafe && telegramWebApp.initDataUnsafe.user) {
            localStorage.setItem("telegramUserId", telegramWebApp.initDataUnsafe.user.id);
        } else {
            console.error("Не удалось получить Telegram ID.");
        }
    }
});
</script>

<body>
  <!-- ================== Секция: Загрузчик ================== -->
  <div class="loader-container">
    <div class="loader">
      <div class="loading-text">
        Загрузка<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span>
      </div>
      <div class="loading-bar-background">
        <div class="loading-bar">
          <div class="white-bars-container">
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ================== Секция: Приветственное сообщение ================== -->
  <div class="welcome-container">
    <div class="welcome-text">Добро пожаловать в</div>
    <div class="welcome-title">LOVE SNIPER</div>
  </div>

  <!-- ================== Секция: Форма ввода имени ================== -->
  <div class="name-form-container">
    <div class="form-control">
      <input type="text" required>
      <label>
        <span style="transition-delay:0ms">К</span>
        <span style="transition-delay:50ms">а</span>
        <span style="transition-delay:100ms">к</span>
        <span style="transition-delay:150ms"> </span>
        <span style="transition-delay:200ms">в</span>
        <span style="transition-delay:250ms">а</span>
        <span style="transition-delay:300ms">с</span>
        <span style="transition-delay:350ms"> </span>
        <span style="transition-delay:400ms">н</span>
        <span style="transition-delay:450ms">а</span>
        <span style="transition-delay:550ms">з</span>
        <span style="transition-delay:600ms">ы</span>
        <span style="transition-delay:650ms">в</span>
        <span style="transition-delay:700ms">а</span>
        <span style="transition-delay:750ms">т</span>
        <span style="transition-delay:800ms">ь</span>
        <span style="transition-delay:850ms">?</span>
      </label>
    </div>
    <button id="confirmButton">
      <span class="button_top">Подтвердить</span>
    </button>
    <div id="errorMessage" class="error-message"></div>
  </div>

  <!-- ================== Секция: Форма выбора пола ================== -->
  <div class="gender-form-container" style="display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Didact Gothic', sans-serif;">
    <div class="gender-title">Ваш пол:</div>
    <div class="radio-button-container">
      <div class="radio-button">
        <input type="radio" class="radio-button__input" id="male" name="gender">
        <label class="radio-button__label" for="male">
          <span class="radio-button__custom"></span>
          Мужской
        </label>
      </div>
      <div class="radio-button">
        <input type="radio" class="radio-button__input" id="female" name="gender">
        <label class="radio-button__label" for="female">
          <span class="radio-button__custom"></span>
          Женский
        </label>
      </div>
    </div>
    <button id="confirmGenderButton">
      <span class="button_top">Подтвердить</span>
    </button>
    <div id="genderErrorMessage" class="error-message"></div>
  </div>

  <!-- ================== Секция: Форма выбора возраста ================== -->
  <div class="age-form-container">
    <div class="age-title">Ваш возраст:</div>
    <div class="age-value">18</div>
    <input type="range" min="18" max="99" step="1" value="18">
    <button id="confirmAgeButton">
      <span class="button_top">Подтвердить</span>
    </button>
    <div id="ageErrorMessage" class="error-message"></div>
  </div>

  <!-- ================== Секция: Форма выбора веса ================== -->
  <div class="weight-form-container">
    <div class="weight-title">Ваш вес:</div>
    <div class="weight-value">40<span class="weight-unit"> кг</span></div>
    <input type="range" min="40" max="150" step="1" value="40">
    <button id="confirmWeightButton">
      <span class="button_top">Подтвердить</span>
    </button>
    <div id="weightErrorMessage" class="error-message"></div>
  </div>

  <!-- ================== Секция: Форма выбора роста ================== -->
  <div class="height-form-container">
    <div class="height-title">Ваш рост:</div>
    <div class="height-value">170<span class="height-unit"> см</span></div>
    <input type="range" min="150" max="210" step="1" value="170">
    <button id="confirmHeightButton">
      <span class="button_top">Подтвердить</span>
    </button>
    <div id="heightErrorMessage" class="error-message"></div>
  </div>

  <!-- ================== Секция: Форма ввода города ================== -->
  <div class="city-form-container">
    <div class="form-control">
      <input type="text" required>
      <label>
        <span style="transition-delay:0ms">В</span>
        <span style="transition-delay:50ms">а</span>
        <span style="transition-delay:100ms">ш</span>
        <span style="transition-delay:150ms"> </span>
        <span style="transition-delay:200ms">г</span>
        <span style="transition-delay:250ms">о</span>
        <span style="transition-delay:300ms">р</span>
        <span style="transition-delay:350ms">о</span>
        <span style="transition-delay:400ms">д</span>
        <span style="transition-delay:450ms">:</span>
      </label>
    </div>
    <button id="confirmCityButton">
      <span class="button_top">Подтвердить</span>
    </button>
    <div id="cityErrorMessage" class="error-message"></div>
  </div>

  <!-- ================== Секция: Финальные анимации ================== -->
  <!-- Отображаются только после корректного ввода города -->
  <div class="final-animations-container" style="display: none;">
    <!-- Анимация сердечка: расположена по горизонтали по центру и чуть выше середины по вертикали -->
    <div class="heart-animation">
      <div class="heart">
        <i class="fa-solid fa-heart"></i>
      </div>
    </div>
  </div>

  <!-- Подключение файла скриптов -->
  <script src="script.js"></script>
</body>
</html>
