<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <!-- Обеспечивает корректное отображение на мобильных устройствах -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Анимированный фон с загрузкой</title>
  <!-- Подключаем шрифт Didact Gothic для красивого отображения русского текста -->
  <link href="https://fonts.googleapis.com/css2?family=Didact+Gothic&display=swap" rel="stylesheet">
  <!-- Подключение основного файла стилей -->
  <link rel="stylesheet" href="style.css">
  <!-- Дополнительные стили для радиобатонов и отступа между выбором пола и кнопкой -->
  <style>
    /* Перекраска выбранного радиобатона в чёрный цвет */
    .radio-button__input:checked + .radio-button__label .radio-button__custom {
      background-color: #000;
      border-color: transparent;
      transform: scale(0.8);
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }
    .radio-button__input:checked + .radio-button__label {
      color: #000;
    }
    .radio-button__label:hover .radio-button__custom {
      transform: scale(1.2);
      border-color: #000;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    }
    /* Отступ между блоком выбора пола и кнопкой подтверждения */
    .gender-form-container .radio-button-container {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <!-- Загрузчик: отображает анимацию загрузки при входе на страницу -->
  <div class="loader-container">
    <div class="loader">
      <div class="loading-text">
        Загрузка<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span>
      </div>
      <div class="loading-bar-background">
        <div class="loading-bar">
          <div class="white-bars-container">
            <!-- Несколько белых полос для эффекта заполнения -->
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
            <div class="white-bar"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Приветственное сообщение: появляется после загрузки -->
  <div class="welcome-container">
    <div class="welcome-text">Добро пожаловать в</div>
    <div class="welcome-title">LOVE SNIPER</div>
  </div>

  <!-- Контейнер для формы ввода имени, кнопки и сообщения об ошибке -->
  <div class="name-form-container">
    <!-- Форма ввода имени -->
    <div class="form-control">
      <!-- Поле ввода. type="text" и required для обязательного заполнения -->
      <input type="text" required>
      <!-- Метка с анимацией появления каждой буквы. Здесь вместо "Username" используется надпись "Как вас называть?" -->
      <label>
        <span style="transition-delay:0ms">К</span>
        <span style="transition-delay:50ms">а</span>
        <span style="transition-delay:100ms">к</span>
        <span style="transition-delay:150ms"> </span>
        <span style="transition-delay:200ms">в</span>
        <span style="transition-delay:250ms">а</span>
        <span style="transition-delay:300ms">с</span>
        <span style="transition-delay:350ms"> </span>
        <span style="transition-delay:400ms">н</span>
        <span style="transition-delay:450ms">а</span>
        <span style="transition-delay:550ms">з</span>
        <span style="transition-delay:600ms">ы</span>
        <span style="transition-delay:650ms">в</span>
        <span style="transition-delay:700ms">а</span>
        <span style="transition-delay:750ms">т</span>
        <span style="transition-delay:800ms">ь</span>
        <span style="transition-delay:850ms">?</span>
      </label>
    </div>

    <!-- Кнопка "Подтвердить" с оформлением от Uiverse.io by Voxybuns -->
    <button id="confirmButton">
      <span class="button_top">Подтвердить</span>
    </button>

    <!-- Блок для вывода сообщения об ошибке -->
    <div id="errorMessage" class="error-message"></div>
  </div>

  <!-- Форма выбора пола, изначально скрытая.
       Контейнер позиционируется строго по центру и использует шрифт Didact Gothic -->
  <div class="gender-form-container" style="display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-family: 'Didact Gothic', sans-serif;">
    <div class="radio-button-container">
      <div class="radio-button">
        <input type="radio" class="radio-button__input" id="male" name="gender">
        <label class="radio-button__label" for="male">
          <span class="radio-button__custom"></span>
          Мужской
        </label>
      </div>
      <div class="radio-button">
        <input type="radio" class="radio-button__input" id="female" name="gender">
        <label class="radio-button__label" for="female">
          <span class="radio-button__custom"></span>
          Женский
        </label>
      </div>
    </div>
    <button id="confirmGenderButton">
      <span class="button_top">Подтвердить</span>
    </button>
    <div id="genderErrorMessage" class="error-message"></div>
  </div>

  <!-- Скрипт для валидации ввода имени и выбора пола -->
  <script>
    // Получаем элементы для ввода имени
    const confirmButton = document.getElementById("confirmButton");
    const inputField = document.querySelector(".form-control input");
    const errorMessage = document.getElementById("errorMessage");

    // Обработчик клика по кнопке "Подтвердить" для ввода имени
    confirmButton.addEventListener("click", function() {
      const nameValue = inputField.value.trim();

      if (nameValue === "") {
        errorMessage.textContent = "Ошибка: поле не может быть пустым!";
        errorMessage.style.display = "block";
        return;
      }

      if (nameValue.length > 32) {
        errorMessage.textContent = "Ошибка: введено больше 32 символов!";
        errorMessage.style.display = "block";
        return;
      }

      errorMessage.style.display = "none";

      // Скрываем форму ввода имени и показываем форму выбора пола
      document.querySelector(".name-form-container").style.display = "none";
      document.querySelector(".gender-form-container").style.display = "block";

      console.log("Введённое имя:", nameValue);
    });

    // Получаем элементы для выбора пола
    const confirmGenderButton = document.getElementById("confirmGenderButton");
    const genderErrorMessage = document.getElementById("genderErrorMessage");

    confirmGenderButton.addEventListener("click", function() {
      const selectedGender = document.querySelector('input[name="gender"]:checked');

      if (!selectedGender) {
        genderErrorMessage.textContent = "Ошибка: выберите ваш пол!";
        genderErrorMessage.style.display = "block";
        return;
      }

      genderErrorMessage.style.display = "none";

      console.log("Выбранный пол:", selectedGender.id);
      // Здесь можно добавить дальнейшую обработку выбранного пола
    });
  </script>
</body>
</html>
